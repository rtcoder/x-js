(function(s,f){typeof exports=="object"&&typeof module<"u"?f(exports):typeof define=="function"&&define.amd?define(["exports"],f):(s=typeof globalThis<"u"?globalThis:s||self,f(s["x-js"]={}))})(this,function(s){"use strict";function f(n){const t=document.createElement(n.type);n.content&&(t.textContent=n.content);for(const[e,c]of Object.entries(n.props))if(e.startsWith("on")&&typeof c=="function"){const o=e.slice(2).toLowerCase();t.addEventListener(o,c)}else t[e]=c;return n.children.forEach(e=>{const c=typeof e=="string"?document.createTextNode(e):f(e);t.appendChild(c)}),t}function l(n,t,e,c=0){const o=n.childNodes[c];if(!e){n.appendChild(f(t));return}if(!t){o&&n.removeChild(o);return}if(t.type!==e.type){n.replaceChild(f(t),o);return}const i=o;for(const[r,a]of Object.entries(t.props))r.startsWith("on")||i[r]!==a&&(i[r]=a);for(const r of Object.keys(e.props))r in t.props||(i[r]=void 0);const u=Math.max(t.children.length,e.children.length);for(let r=0;r<u;r++)l(i,t.children[r],e.children[r],r)}function p(n){const t=n.tagName.toLowerCase(),e={},c=n.textContent;Array.from(n.attributes).forEach(i=>{e[i.name]=i.value});const o=Array.from(n.childNodes).map(i=>{if(i.nodeType===Node.ELEMENT_NODE)return p(i);if(i.nodeType===Node.TEXT_NODE)return{type:"text",props:{value:i.textContent},children:[]}}).filter(Boolean);return{type:t,props:e,children:o,content:c}}function d(n,t,e){const c=e.split(".").reduce((o,i)=>o[i],t);if(n.tagName==="INPUT"){const o=n;o.value=c,o.addEventListener("input",i=>{const u=i.target.value,r=e.split("."),a=r.pop(),E=r.reduce((m,b)=>m[b],t);E[a]=u,console.log(`Zaktualizowano ${e}:`,t)})}}function y(n,t){const e=n.getAttribute("@click");if(e){const c=new Function("model",`with(model) { ${e} }`);n.addEventListener("click",()=>c(t))}}function h(n,t){const e=document.querySelector(n);function c(o){const i=o.getAttribute("x-model");i&&d(o,t,i),y(o,t),Array.from(o.children).forEach(u=>c(u))}c(e)}s.bindClick=y,s.bindXModel=d,s.createVirtualDOM=p,s.initializeApp=h,s.render=f,s.updateElement=l,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=index.umd.js.map
